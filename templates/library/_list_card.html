<div class="list-card" data-status="{{ book.status | lower }}">
  <div class="cover">
    <img
      src="{% if book.cover != ""%} {{ book.cover }} {% else %} {{
      url_for('static', filename='images/placeholder.png') }} {% endif %}"
      alt="{{
      book.title }}"
    />
  </div>

  <div class="info-wrapper">
    <div
      class="status-detail {% if book.status.lower() == 'reading' %}status-reading{% elif book.status.lower() == 'completed' %}status-completed{% elif book.status.lower() == 'to read' %}status-to-read{% endif %}"
    >
      {% if book.status.lower() == 'reading' %}
      <i class="fa-solid fa-book-open"></i>
      {% elif book.status.lower() == 'completed' %}
      <i class="fa-regular fa-circle-check"></i>
      {% elif book.status.lower() == 'to-read' %}
      <i class="fa-regular fa-clock"></i>
      {% endif %}
      <p>{{ book.status.replace('-', ' ').title() }}</p>
    </div>

    <div class="details">
      <h3>{{ book.title }}</h3>
      <p class="grid-author">{{ book.author }}</p>

      <div class="progress-info">
        <span>{{ book.pages_read }} / {{ book.total_pages }} pages</span>
        <span class="progress-percent"></span>
          {{ (book.pages_read * 100 // book.total_pages) if book.total_pages
          else 0 }}%</span
        >
      </div>

      <div class="progress-bar">
        <div
          class="progress-fill"
          style="width: {{ (book.pages_read / book.total_pages * 100) if book.total_pages else 0 }}%"
        ></div>
      </div>

      <div class="actions">
        <a href="{{ url_for('book.book_detail', title=book.title) }}"
          ><i class="fa-regular fa-eye"></i>View</a
        >
        <a href="{{ url_for('book.edit_book', title=book.title) }}"
          ><i class="fa-solid fa-pen"></i>Edit</a
        >
        <a href="{{ url_for('book.delete_book', title=book.title) }}" class="delete"
          ><i class="fa-regular fa-trash-can"></i>Delete</a
        >
      </div>
    </div>
  </div>
</div>
